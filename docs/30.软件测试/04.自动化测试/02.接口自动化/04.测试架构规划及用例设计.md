#  测试架构规划及用例设计

## 一、 测试架构规划

![image-20210707150123265](https://pupperc.com/img/20210707150123.png)

#### 四文件夹：

-   `docs` ： 主要用于存放 和项目相关的文件；
-   `logo` ： 主要用于存放 项目执行的日志；
-   `report` ： 用于存放报告的 原始数据；
-   `data` ： 用于存放 测试数据；

#### 四包文件 ：

-   `libs` ： 用于存放 基本的 代码；
-   `configs` ： 用于存放 配置文件；
-   `test_case` ： 用于存放 测试用例；
-   `tools` ： 用于存放 封装的 工具；

## 二、接口测试用例设计

-   编号
-   模块
-   接口名称
-   优先级
-   标题
-   URL
-   前置条件
-   请求方式
-   请求头
-   请求参数
-   预期结果
-   响应预期结果
-   实际结果

![image-20210707154326059](https://pupperc.com/img/20210707154326.png)

## 三、自动化结合excel用例执行

配置：

```python
# configs/confing.py

HOST = 'http://121.41.14.39:8082'
```

登录：

```python
# libs/login.py

import requests
import hashlib
from configs.config import HOST


def get_md5(password):
    # 1- 实例化加密对象
    md5 = hashlib.md5()
    # 2- 进行加密操作
    md5.update(password.encode('utf-8'))
    # 3- 返回加密后的结果
    return md5.hexdigest()


class Login:  # 登录类
    def login(self, inData, getToken=False):  
        url = f'{HOST}/account/sLogin'
        # 请求体----字典格式编辑
        # 调用加密函数      字典修改值： 字典名【键名】 = 新的值
        inData['password'] = get_md5(inData['password'])
        payload = inData  # 可以不写
        resp = requests.post(url, data=payload)
        if getToken:  # 获取token
            return resp.json()['data']['token']  # token值
        else:
            return resp.json()  # 接口的响应数据
```




# JS 编程进阶

## 一、 DOM 基础

`DOM` ： JavaScript 操作 HTML 文档的接口，使文档操作变得非常优雅、便捷

`DOM 特点` ： 将文档表示为 `节点树`

`DOM 作用` ： `JS` 用于操作 `HTML` 和 `CSS` 的 `桥梁`

![image-20210507155442377](C:/Users/My/AppData/Roaming/Typora/typora-user-images/image-20210507155442377.png)

### 1. 访问元素节点

访问元素节点：指 `获取` 页面上的元素节点，通过 `Document 对象` 访问节点

| 方法                              | 功能                           |
| --------------------------------- | ------------------------------ |
| document.getElementById()         | 通过 `ID` 获取 `元素`          |
| document,getElementsByTagName()   | 通过 `标签名` 获取 `元素 数组` |
| document.getElementsByClassName() | 通过 `类名` 获取 `元素 数组`   |
| document.querySelector()          | 通过 `选择器` 获取 `元素`      |
| document.querySelectorAll()       | 通过 `选择器` 获取 `元素 数组` |
| document.title 和 document.body   | `获取 文档标题和 内容`         |
| document.getElementsByName()      | 通过 `name` 属性 获取 `元素`   |

### 2. 创建元素节点

| 方法                       | 功能                         |
| -------------------------- | ---------------------------- |
| document.createElement()   | 创建一个元素节点             |
| document.create.TextNode() | 创建一个文本节点             |
| el.id = 'submit'           | 为 el 元素 创建属性 ‘submit’ |

### 3. 插入元素节点

| 方法                   | 功能                                      |
| ---------------------- | ----------------------------------------- |
| A.appendChild(B)       | A表示父元素、B 表示 子元素                |
| A.insertBefore(B, ref) | 在 A 元素中， 把 B 插入到 子元素 ref 之前 |

### 4. 删除元素节点

| 方法                               | 功能                           |
| ---------------------------------- | ------------------------------ |
| A.removeChild(B)                   | 删除 A 元素的 子元素 B         |
| A.removeChild(A.lastElementChild)  | 删除 A 元素的最后一个子元素    |
| A.removeChild(A.firstElementChild) | 删除 A 元素的第一个 子元素     |
| A.removeChild()                    | 删除 整个元素 A （包括子元素） |

### 5. 复制元素节点

| 方法                                 | 功能                                            |
| ------------------------------------ | ----------------------------------------------- |
| obj.cloneNode(bool)//bool = \|1 or 0 | 复制 obj ， 1 表示包含子元素， 0表示仅 obj 本身 |

### 6. 替换元素节点

| 方法                     | 功能                                             |
| ------------------------ | ------------------------------------------------ |
| A.replaceChild(new, old) | A 表示父元素， new 表示新子元素， old 表示旧元素 |

## 二、 DOM 进阶

### 1. 节点的关系

![image-20210507170628361](https://i.loli.net/2021/05/07/eN8mHWfu1q5JBXS.png)

| 关系           | 所有类型的节点  | 仅元素节点             |
| -------------- | --------------- | ---------------------- |
| 子节点         | childNodes      | children               |
| 父节点         | parentNodes     | parentNode             |
| 第一个子节点   | firstChild      | firstElementChild      |
| 最后一个子节点 | lastChild       | lastElementChild       |
| 前一个兄弟节点 | previousSibling | previousElementSibling |
| 后一个兄弟节点 | nextSibling     | nextElementSibling     |

### 2. 属性操作常用方法

#### 操作 HTML 文档 的元素属性

| 方法                                  | 功能（obj 是 元素名， attr 是 obj 的属性） |
| ------------------------------------- | ------------------------------------------ |
| obj.attr                              | 获取 obj 的属性 attr                       |
| obj.attr = "值"                       | 设置 obj 的属性 attr 的值                  |
| obj.getAttribute("attr")              | 获取 obj 的属性 attr                       |
| obj.setAttribute(属性名， 新的属性值) | 设置 obj 的属性 attr                       |
| obj.removeAttribute("attr")           | 删除 obj 的属性 attr                       |
| obj.hasAttribute("attr")              | 判断 obj 是否包含 属性 attr                |

#### 操作 CSS 文档的元素属性

| 方法                       | 功能                           |
| -------------------------- | ------------------------------ |
| obj.style.attr = "值"      | 为 obj 元素添加 CSS 样式 attr  |
| obj.style.cssText = '值'   | 为 obj 元素 添加 多个 CSS 样式 |
| getComputedStyle(obj).attr | 获取 obj 元素的 CSS 属性 attr  |

